<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤ - VNE</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="creator-body">
    <div class="creator-container">
        <div class="creator-header">
            <h1>–†–µ–¥–∞–∫—Ç–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤</h1>
            <div>
                <a href="/character-creator" class="btn btn--secondary">–†–µ–¥–∞–∫—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</a>
                <a href="/scenario-creator" class="btn btn--secondary">–†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤</a>
                <a href="/" class="btn btn--secondary">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</a>
            </div>
        </div>

        <div class="creator-card controls-card">
            <div class="creator-card-content">
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</h3>
                <div class="controls-wrapper">
                    <button class="btn btn--secondary" id="refresh-assets-btn">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏</button>
                    <button class="btn btn--secondary" id="export-assets-btn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫</button>
                    <input type="file" id="import-assets-input" accept=".json" style="display: none;">
                    <button class="btn btn--secondary" id="import-assets-btn">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫</button>
                </div>
            </div>
        </div>

        <!-- BGM Section -->
        <div class="creator-card">
            <div class="asset-section-header">
                <h3>–§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞ (BGM)</h3>
                <button class="btn btn--primary" id="upload-bgm-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å BGM</button>
            </div>
            <p class="asset-description">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: MP3, OGG, WAV</p>
            <input type="file" id="bgm-file-input" accept=".mp3,.ogg,.wav" multiple style="display: none;">
            
            <div class="assets-grid" id="bgm-assets-grid">
                <!-- BGM assets will be dynamically loaded here -->
            </div>
        </div>

        <!-- SFX Section -->
        <div class="creator-card">
            <div class="asset-section-header">
                <h3>–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (SFX)</h3>
                <button class="btn btn--primary" id="upload-sfx-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å SFX</button>
            </div>
            <p class="asset-description">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: MP3, OGG, WAV</p>
            <input type="file" id="sfx-file-input" accept=".mp3,.ogg,.wav" multiple style="display: none;">
            
            <div class="assets-grid" id="sfx-assets-grid">
                <!-- SFX assets will be dynamically loaded here -->
            </div>
        </div>

        <!-- Locations Section -->
        <div class="creator-card">
            <div class="asset-section-header">
                <h3>–õ–æ–∫–∞—Ü–∏–∏ (–§–æ–Ω—ã)</h3>
                <button class="btn btn--primary" id="upload-locations-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é</button>
            </div>
            <p class="asset-description">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PNG, JPG, JPEG, WEBP</p>
            <input type="file" id="locations-file-input" accept=".png,.jpg,.jpeg,.webp" multiple style="display: none;">
            
            <div class="scenes-grid" id="locations-assets-grid">
                <!-- Location assets will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Upload Progress -->
    <div id="upload-progress" class="upload-progress" style="display: none;">
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text" id="progress-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- Templates -->
    <template id="audio-asset-template">
        <div class="asset-card audio-asset">
            <div class="asset-header">
                <h4 class="asset-name"></h4>
                <div class="asset-actions">
                    <button class="btn btn--small btn--secondary play-btn" title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏">‚ñ∂</button>
                    <button class="btn btn--small btn--danger delete-btn" title="–£–¥–∞–ª–∏—Ç—å">üóë</button>
                </div>
            </div>
            <div class="asset-info">
                <span class="asset-path"></span>
                <span class="asset-size"></span>
            </div>
        </div>
    </template>

    <template id="location-asset-template">
        <div class="asset-card location-asset">
            <div class="location-preview">
                <img class="location-image" src="" alt="Location preview">
            </div>
            <div class="asset-header">
                <h4 class="asset-name"></h4>
                <div class="asset-actions">
                    <button class="btn btn--small btn--secondary preview-btn" title="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">–ü—Ä–µ–≤—å—é</button>
                    <button class="btn btn--small btn--secondary edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úé</button>
                    <button class="btn btn--small btn--danger delete-btn" title="–£–¥–∞–ª–∏—Ç—å">üóë</button>
                </div>
            </div>
            <div class="asset-info">
                <span class="asset-path"></span>
                <span class="asset-size"></span>
            </div>
        </div>
    </template>

    <!-- Location Preview Modal -->
    <div id="location-preview-modal" class="modal" style="display: none;">
        <div class="modal-content location-preview-content">
            <div class="modal-header">
                <h3 id="location-preview-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞—Ü–∏–∏</h3>
                <button class="modal-close" id="close-location-preview">&times;</button>
            </div>
            <div class="location-preview-body">
                <img id="location-preview-image" src="" alt="Location preview">
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/notifications.js') }}"></script>
    <script src="{{ url_for('static', filename='js/asset_editor.js') }}"></script>
</body>
</html>